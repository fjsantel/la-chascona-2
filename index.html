<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Chascona</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --naranja: #EB3E0E;
            --negro: #000000;
            --blanco: #FFFFFF;
            --grid-size: 8px;
        }

        body {
            font-family: 'Cinzel', serif;
            overflow: hidden;
            background: var(--blanco);
            margin: 0;
            padding: 0;
        }

        /* REGLA FUNDAMENTAL DE LAYOUT:
           1. El diseño usa SIEMPRE el ancho completo del dispositivo (100vw)
           2. El menú lateral SIEMPRE tiene 24px de ancho
           3. El menú está SIEMPRE fijo a la derecha
           4. NUNCA hay contenido que toque el menú
           5. SIEMPRE debe haber exactamente 24px (3 cuadrados de grilla) de separación entre cualquier contenido y el menú
           6. El área de contenido = ancho total - 24px del menú
           
           Ejemplo:
           - Mobile 375px: contenido = 351px (375 - 24)
           - Tablet 768px: contenido = 744px (768 - 24)  
           - Desktop 1440px: contenido = 1416px (1440 - 24)
           
           La grilla base es 8px, y el menú equivale a 3 cuadrados de grilla.
        */

        /* GRUPO MENÚ COMPLETO - INSEPARABLE */
        .main-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }

        .menu-completo {
            position: fixed;
            right: 0; /* CAMBIO: Siempre pegado a la derecha */
            top: 0;
            width: 24px; /* ANCHO FIJO SIEMPRE */
            height: 100vh;
            z-index: 1000;
            background: var(--blanco);
        }

        .franja-naranja {
            position: absolute;
            top: 0;
            left: 0;
            width: 24px;
            height: 63px;
            background: var(--naranja);
        }

        .botones-menu {
            position: absolute;
            top: 63px; /* Justo debajo de la franja */
            left: 0;
            width: 24px;
            height: calc(100vh - 63px);
            display: flex;
            flex-direction: column;
            justify-content: space-evenly;
            align-items: center;
            padding: 22px 0;
        }

        /* ÁREA DE CONTENIDO ESCALABLE */
        .contenido-area {
            position: relative;
            width: calc(100vw - 24px); /* CAMBIO: Volver al cálculo simple */
            height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
            scroll-behavior: smooth; /* AGREGAR para scroll suave */
        }

        .layout-mobile {
            position: relative;
            width: 100%;
            min-height: 100vh; /* CAMBIO: De height: 100% a min-height: 100vh */
            transform-origin: top left;
        }

        .menu-item {
            writing-mode: vertical-rl;
            text-orientation: mixed;
            font-family: 'Cinzel', serif;
            font-size: 18px;
            color: var(--negro);
            text-decoration: none;
            white-space: nowrap;
        }

        .menu-item:hover {
            color: var(--naranja);
        }

        /* Contenido dentro del layout mobile */
        .contenido-principal {
            position: relative;
            width: 351px; /* Base mobile */
            height: 812px; /* Base mobile */
        }

        /* Grupo texto japonés vertical */
        .grupo-texto-japones {
            position: absolute;
            left: calc((100vw - 24px) * 0.22); /* CAMBIO: 22% del ancho disponible */
            top: 0;
            width: 30px;
            z-index: 10;
        }

        /* Cuadrado negro */
        .cuadrado-negro {
            width: 30px;
            height: 32px;
            background: var(--negro);
            margin-bottom: var(--grid-size); /* Un cuadrado de grilla */
        }

        /* Caracteres japoneses */
        .caracter-japones {
            width: 30px;
            height: 32px;
            font-family: 'Cinzel', serif;
            font-size: 34px;
            color: var(--negro);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0;
        }

        /* Imagen tijeras (2.png) */
        .imagen-tijeras {
            position: absolute;
            left: calc((100vw - 24px) * 0.31 + 2px); /* Solo posición responsive */
            top: 0;
            width: 207px; /* CAMBIO: MANTENER tamaño original mobile */
            height: 278px; /* CAMBIO: MANTENER tamaño original mobile */
            background: url('assets/hero /2.png') center/contain no-repeat;
            object-fit: contain;
            z-index: 5;
        }

        /* Texto LA CHASCONA */
        .titulo-principal {
            position: absolute;
            left: calc((100vw - 24px) * 0.31 + 2px); /* Solo posición responsive */
            top: 286px;
            width: 192px; /* CAMBIO: MANTENER tamaño original mobile */
            height: 24px; /* CAMBIO: MANTENER tamaño original mobile */
            font-family: 'Cinzel', serif;
            font-size: 28px; /* CAMBIO: MANTENER tamaño original mobile */
            font-weight: 400;
            color: var(--negro);
            display: flex;
            align-items: center;
            white-space: nowrap;
            z-index: 10;
        }

        /* Imagen 1.png */
        .imagen-principal {
            position: absolute;
            left: 0;
            top: 136px;
            width: 255px;
            height: 366px;
            background: url('assets/hero /1.png') center/cover;
            object-fit: cover;
            z-index: 1;
        }

        /* Rectángulo naranja con letra japonesa */
        .rectangulo-naranja {
            position: absolute;
            left: -139px; /* Mitad afuera: -278px/2 = -139px */
            top: 440px;
            width: 278px;
            height: 176px;
            background: var(--naranja);
            border-radius: 23px;
            display: flex;
            align-items: center;
            justify-content: flex-end; /* Alinea hacia la derecha (parte visible) */
            padding-right: 35px; /* Centra en la parte visible */
            font-family: 'Cinzel', serif;
            font-size: 72px; /* Más grande */
            color: var(--blanco);
            font-weight: 400;
            z-index: 15; /* Por encima de 1.png que tiene z-index: 1 */
        }

        /* Imagen modelo1 */
        .imagen-modelo1 {
            position: absolute;
            left: calc((100vw - 24px) * 0.476); /* Solo posición responsive */
            top: 530px;
            width: 184px; /* CAMBIO: MANTENER tamaño original mobile */
            height: 282px; /* CAMBIO: MANTENER tamaño original mobile */
            background: url('assets/hero /Modelos /modelo 1.png') center/cover;
            object-fit: cover;
            z-index: 50; /* Por sobre todos los demás elementos */
        }


        /* Mobile específico: 320px-375px */
        @media (max-width: 375px) {
            .grupo-texto-japones {
                top: 10vh;
            }
            
            .imagen-tijeras {
                top: 10vh;
            }
            
            .titulo-principal {
                top: calc(286px + 10vh);
            }
            
            .imagen-principal {
                top: calc(136px + 10vh);
            }
            
            .rectangulo-naranja {
                top: calc(440px + 10vh);
            }
            
            .imagen-modelo1 {
                top: calc(530px + 10vh);
            }
        }

        /* Mobile escalado progresivo: 376px-599px */
        @media (min-width: 376px) and (max-width: 599px) {
            /* CAMBIO: Escalado simple del diseño mobile base */
            .layout-mobile {
                transform: scale(calc((100vw - 24px) / 351));
                width: 351px;
                height: 812px;
                transform-origin: top left;
            }
            
            .contenido-area {
                overflow-x: auto;
            }
            
            .imagen-tijeras {
                left: calc((100vw - 24px) * 0.51 + 2px); /* 20% más a la derecha: 0.31 + 0.20 = 0.51 */
                width: 228px; /* 10% más grande: 207px * 1.10 = 228px */
                height: 306px; /* 10% más grande: 278px * 1.10 = 306px */
            }
            
            .titulo-principal {
                left: calc((100vw - 24px) * 0.51 + 2px); /* 20% más a la derecha: 0.31 + 0.20 = 0.51 */
                top: calc(286px + 5vh); /* 5% más abajo */
                width: 211px; /* 10% más grande: 192px * 1.10 = 211px */
                height: 26px; /* 10% más grande: 24px * 1.10 = 26px */
                font-size: 30px; /* 10% más grande: 27px * 1.10 = 30px */
            }
            
            .imagen-modelo1 {
                left: calc((100vw - 24px) * 0.536); /* 7% a la izquierda: 0.606 - 0.07 = 0.536 */
                top: calc(530px - 4vh); /* 4% hacia arriba (6% - 2% = 4%) */
                width: 202px; /* 10% más grande: 184px * 1.10 = 202px */
                height: 310px; /* 10% más grande: 282px * 1.10 = 310px */
            }
        }

        /* Breakpoint 640px: 600px-767px */
        @media (min-width: 600px) and (max-width: 767px) {
            /* Coordenadas específicas para 640px */
            .grupo-texto-japones {
                left: 78px; /* Mismas medidas que mobile */
            }

            .imagen-tijeras {
                left: 347px; /* NUEVO: Coordenadas específicas 640px */
                width: 267px;
                height: 389px;
            }

            .titulo-principal {
                left: 348px; /* NUEVO: Coordenadas específicas 640px */
                top: 385px; /* Separado por cuadrado de grilla */
                width: 264px;
                height: 46px;
                font-size: 36px; /* Escalado proporcional */
            }

            .imagen-principal {
                left: 0;
                top: 17px; /* NUEVO: Coordenadas específicas 640px */
                width: 265px;
                height: 381px;
            }

            .rectangulo-naranja {
                left: -190px; /* NUEVO: Coordenadas específicas 640px */
                top: 333px;
                width: 470px;
                height: 216px;
                font-size: 85px; /* Escalado proporcional para 美 */
            }

            .imagen-modelo1 {
                left: 348px; /* NUEVO: Coordenadas específicas 640px */
                top: 449px;
                width: 263px;
                height: 358px;
            }
        }

        /* Tablet coordenadas específicas */
        @media (min-width: 768px) and (max-width: 779px) {
            .layout-mobile {
                transform: none;
            }

            /* Contenido tablet específico */
            .contenido-principal {
                width: 744px; /* 768px - 24px del menú */
                height: 1024px;
            }

            /* Grupo texto japonés tablet */
            .grupo-texto-japones {
                left: 247px;
                top: 0;
            }

            .cuadrado-negro {
                width: 67px;
                height: 56px;
            }

            .caracter-japones {
                width: 67px;
                height: 56px;
                font-size: 60px;
            }

            /* Imagen tijeras tablet */
            .imagen-tijeras {
                left: 368px;
                top: 0;
                width: calc(100% - 368px - 8px); /* Margen 8px */
                max-width: 362px;
                height: 527px;
            }

            /* Título tablet */
            .titulo-principal {
                left: 368px;
                top: 537px;
                width: 360px;
                height: 63px;
                font-size: 48px;
            }

            /* Imagen principal tablet */
            .imagen-principal {
                left: 0;
                top: 15px;
                width: 360px;
                height: 517px;
            }

            /* Rectángulo naranja tablet */
            .rectangulo-naranja {
                left: -134px;
                top: 440px;
                width: 470px;
                height: 216px;
                font-size: 100px; /* 美 más grande */
            }

            /* Imagen modelo1 tablet */
            .imagen-modelo1 {
                left: 434px;
                top: 624px;
                width: calc(100% - 434px - 8px); /* Margen 8px */
                max-width: 294px;
                height: 400px;
            }
        }

        /* Tablet escalado progresivo: 780px-1439px - ELIMINADO POR CONFLICTO 
        @media (min-width: 1024px) and (max-width: 1439px) {
            CAMBIO: Escalado simple del diseño tablet hacia desktop
            .layout-mobile {
                transform: scale(calc((100vw - 24px) / 744));
                width: 744px;
                height: 1024px;
                transform-origin: top left;
            }
            
            .contenido-area {
                overflow-x: auto;
            }
            
            Mantener coordenadas tablet escaladas
            .grupo-texto-japones { left: 247px; }
            .cuadrado-negro { width: 67px; height: 56px; }
            .caracter-japones { width: 67px; height: 56px; font-size: 60px; }
            .imagen-tijeras { left: 368px; width: 362px; height: 527px; }
            .titulo-principal { left: 368px; top: 537px; width: 360px; height: 63px; font-size: 48px; }
            .imagen-principal { top: 15px; width: 360px; height: 517px; }
            .rectangulo-naranja { left: -134px; width: 470px; height: 216px; font-size: 100px; }
            .imagen-modelo1 { left: 434px; top: 624px; width: 294px; height: 400px; }
        }
        */

        /* DESKTOP: 780px+ - Coordenadas específicas web */
        @media (min-width: 780px) {
            .layout-mobile {
                width: 100%;
                height: 100%;
                transform: none;
            }

            /* Coordenadas específicas para desktop/web */
            .grupo-texto-japones {
                left: 247px; /* Mismas medidas que tablet */
                top: 0;
            }

            .cuadrado-negro {
                width: 67px; /* Mismas medidas que tablet */
                height: 56px;
            }

            .caracter-japones {
                width: 67px; /* Mismas medidas que tablet */
                height: 56px;
                font-size: 60px; /* Mismas medidas que tablet */
            }

            .imagen-tijeras {
                left: 912px; /* NUEVO: Coordenadas específicas web */
                top: 0;
                width: 490px;
                height: 712px;
            }

            .titulo-principal {
                left: 912px; /* NUEVO: Coordenadas específicas web */
                top: 745px; /* Separado por cuadrado de grilla */
                width: 520px;
                height: 63px;
                font-size: 67px; /* NUEVO: Cinzel type específico */
            }

            .imagen-principal {
                left: 0;
                top: 0; /* NUEVO: Coordenadas específicas web */
                width: 592px;
                height: 850px;
            }

            .rectangulo-naranja {
                left: -8px; /* NUEVO: Coordenadas específicas web */
                top: 672px;
                width: 470px;
                height: 216px;
                font-size: 100px; /* Mantener tamaño tablet para 美 */
            }

            .imagen-modelo1 {
                left: 600px; /* NUEVO: Coordenadas específicas web */
                top: 0;
                width: 294px;
                height: 400px;
            }
        }

        /* MEDIA QUERY SOLO PARA PANTALLAS MUY GRANDES */
        @media (min-width: 1700px) {
            .main-container {
                display: flex;
                justify-content: center;
                background: #f5f5f5;
            }
            
            .main-container::before {
                content: '';
                position: fixed;
                width: 1440px;
                height: 100vh;
                background: var(--blanco);
                box-shadow: 0 0 30px rgba(0,0,0,0.1);
                z-index: -1;
            }
            
            .contenido-area {
                width: 1416px;
                max-width: calc(100vw - 24px);
            }
            
            .menu-completo {
                right: max(0px, calc((100vw - 1440px) / 2));
            }
        }

        /* Animación para el símbolo 美 */
        @keyframes glow {
            0% {
                background: var(--naranja);
                color: var(--blanco);
            }
            50% {
                background: var(--blanco);
                color: var(--naranja);
                border: 2px solid var(--naranja);
            }
            100% {
                background: var(--naranja);
                color: var(--blanco);
            }
        }

        .rectangulo-naranja.glow-animation {
            animation: glow 2s ease-in-out;
        }

        /* Estilos del Pop-up */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .popup-content {
            background: var(--blanco);
            border-radius: 15px;
            padding: 30px;
            max-width: 400px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            border-bottom: 2px solid var(--naranja);
            padding-bottom: 15px;
        }

        .popup-header h2 {
            font-family: 'Cinzel', serif;
            color: var(--negro);
            margin: 0;
            font-size: 24px;
        }

        .close-popup {
            background: none;
            border: none;
            font-size: 30px;
            color: var(--negro);
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-popup:hover {
            color: var(--naranja);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-family: 'Cinzel', serif;
            color: var(--negro);
            margin-bottom: 8px;
            font-weight: 400;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-family: 'Cinzel', serif;
            font-size: 16px;
            background: var(--blanco);
            color: var(--negro);
            box-sizing: border-box;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--naranja);
            box-shadow: 0 0 0 3px rgba(235, 62, 14, 0.1);
        }

        .submit-btn {
            width: 100%;
            padding: 15px;
            background: var(--naranja);
            color: var(--blanco);
            border: none;
            border-radius: 8px;
            font-family: 'Cinzel', serif;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .submit-btn:hover {
            background: #d13408;
        }

        .confirmation-message {
            text-align: center;
            padding: 20px;
        }

        .confirmation-message h3 {
            font-family: 'Cinzel', serif;
            color: var(--naranja);
            margin-bottom: 15px;
            font-size: 22px;
        }

        .confirmation-message p {
            font-family: 'Cinzel', serif;
            color: var(--negro);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .close-confirmation {
            padding: 12px 30px;
            background: var(--naranja);
            color: var(--blanco);
            border: none;
            border-radius: 8px;
            font-family: 'Cinzel', serif;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .close-confirmation:hover {
            background: #d13408;
        }

        /* Responsive para el popup */
        @media (max-width: 480px) {
            .popup-content {
                padding: 20px;
                margin: 10px;
            }
            
            .popup-header h2 {
                font-size: 20px;
            }
        }

        /* Debug grid overlay (temporal) */
        .debug-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255,0,0,0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,0,0,0.1) 1px, transparent 1px);
            background-size: var(--grid-size) var(--grid-size);
            pointer-events: none;
            z-index: 9999;
            opacity: 0.3;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- GRUPO MENÚ COMPLETO - INSEPARABLE -->
        <div class="menu-completo">
            <div class="franja-naranja"></div>
            <div class="botones-menu">
                <a href="#inicio" class="menu-item">Inicio</a>
                <a href="#agenda" class="menu-item">Agenda</a>
                <a href="#galeria" class="menu-item">Galeria</a>
                <a href="#contacto" class="menu-item">Contacto</a>
            </div>
        </div>
        
        <!-- ÁREA DE CONTENIDO ESCALABLE -->
        <div class="contenido-area">
            <div class="layout-mobile">
                <!-- Debug grid (comentar cuando no necesites) -->
                <!-- <div class="debug-grid"></div> -->
                
                <!-- Contenido principal -->
                <main class="contenido-principal">
            <!-- Grupo texto japonés vertical -->
            <div class="grupo-texto-japones">
                <div class="cuadrado-negro"></div>
                <div class="caracter-japones">毛</div>
                <div class="caracter-japones">深</div>
                <div class="caracter-japones">い</div>
            </div>
            
            <!-- Imagen tijeras (2.png) -->
            <div class="imagen-tijeras"></div>
            
            <!-- Imagen principal (1.png) -->
            <div class="imagen-principal"></div>
            
            <!-- Texto LA CHASCONA -->
            <div class="titulo-principal">LA CHASCONA</div>
            
            <!-- Rectángulo naranja con letra japonesa -->
            <div class="rectangulo-naranja">美</div>
            
            <!-- Imagen modelo1 -->
            <div class="imagen-modelo1"></div>
                </main>
            </div>
        </div>
        
        <!-- Pop-up para agendar cita -->
        <div id="popup-agenda" class="popup-overlay" style="display: none;">
            <div class="popup-content">
                <div class="popup-header">
                    <h2>Agendar Cita</h2>
                    <button class="close-popup" type="button">&times;</button>
                </div>
                
                <form id="agenda-form" action="https://formspree.io/f/xrblnepw" method="POST">
                    <div class="form-group">
                        <label for="nombre">Nombre:</label>
                        <input type="text" id="nombre" name="nombre" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="fecha">Fecha:</label>
                        <input type="date" id="fecha" name="fecha" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="hora">Hora:</label>
                        <select id="hora" name="hora" required>
                            <option value="">Seleccionar hora</option>
                            <option value="09:00">09:00</option>
                            <option value="10:00">10:00</option>
                            <option value="11:00">11:00</option>
                            <option value="12:00">12:00</option>
                            <option value="14:00">14:00</option>
                            <option value="15:00">15:00</option>
                            <option value="16:00">16:00</option>
                            <option value="17:00">17:00</option>
                            <option value="18:00">18:00</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="telefono">Número de contacto:</label>
                        <input type="tel" id="telefono" name="telefono" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="servicio">Tipo de servicio:</label>
                        <select id="servicio" name="servicio" required>
                            <option value="">Seleccionar servicio</option>
                            <option value="corte">Corte</option>
                            <option value="color">Color</option>
                            <option value="corte-color">Corte + Color</option>
                            <option value="tratamiento">Tratamiento</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="submit-btn">Agendar Cita</button>
                </form>
                
                <div id="confirmation-message" class="confirmation-message" style="display: none;">
                    <h3>¡Cita Agendada!</h3>
                    <p>Gracias por tu preferencia. Recibirás la confirmación de tu hora en breve.</p>
                    <button class="close-confirmation" type="button">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const agendaButton = document.querySelector('a[href="#agenda"]');
            const simboloBi = document.querySelector('.rectangulo-naranja');
            const popup = document.getElementById('popup-agenda');
            const closeButton = document.querySelector('.close-popup');
            const form = document.getElementById('agenda-form');
            const confirmationMessage = document.getElementById('confirmation-message');
            const closeConfirmation = document.querySelector('.close-confirmation');
            
            // Configurar fecha mínima (hoy)
            const fechaInput = document.getElementById('fecha');
            const today = new Date().toISOString().split('T')[0];
            fechaInput.min = today;
            
            agendaButton.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Remover animación si ya está activa
                simboloBi.classList.remove('glow-animation');
                
                // Forzar reflow para reiniciar la animación
                simboloBi.offsetHeight;
                
                // Añadir la clase de animación
                simboloBi.classList.add('glow-animation');
                
                // Mostrar popup después de la animación
                setTimeout(() => {
                    popup.style.display = 'flex';
                    simboloBi.classList.remove('glow-animation');
                }, 2000);
            });
            
            // Cerrar popup
            closeButton.addEventListener('click', function() {
                popup.style.display = 'none';
                form.style.display = 'block';
                confirmationMessage.style.display = 'none';
            });
            
            // Cerrar popup al hacer click fuera
            popup.addEventListener('click', function(e) {
                if (e.target === popup) {
                    popup.style.display = 'none';
                    form.style.display = 'block';
                    confirmationMessage.style.display = 'none';
                }
            });
            
            // Manejar envío del formulario
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validar formulario
                const nombre = document.getElementById('nombre').value.trim();
                const fecha = document.getElementById('fecha').value;
                const hora = document.getElementById('hora').value;
                const telefono = document.getElementById('telefono').value.trim();
                const servicio = document.getElementById('servicio').value;
                
                if (!nombre || !fecha || !hora || !telefono || !servicio) {
                    alert('Por favor completa todos los campos');
                    return;
                }
                
                // Crear FormData para Formspree
                const formData = new FormData();
                formData.append('nombre', nombre);
                formData.append('fecha', fecha);
                formData.append('hora', hora);
                formData.append('telefono', telefono);
                formData.append('servicio', servicio);
                formData.append('_subject', 'Nueva cita agendada - La Chascona');
                
                // Enviar a Formspree
                fetch('https://formspree.io/f/xrblnepw', {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                })
                .then(response => {
                    if (response.ok) {
                        // Mostrar mensaje de confirmación
                        form.style.display = 'none';
                        confirmationMessage.style.display = 'block';
                        
                        // Limpiar formulario
                        form.reset();
                    } else {
                        throw new Error('Error al enviar el formulario');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('Hubo un error al agendar la cita. Por favor intenta nuevamente.');
                });
            });
            
            // Cerrar mensaje de confirmación
            closeConfirmation.addEventListener('click', function() {
                popup.style.display = 'none';
                form.style.display = 'block';
                confirmationMessage.style.display = 'none';
            });
        });
    </script>
</body>
</html>